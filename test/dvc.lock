schema: '2.0'
stages:
  Run reVX with simple plant builder on SIIP:
    cmd: python siip_simple_plant_builder.py
    deps:
    - path: data/naris_rev_wtk_gen_colorado_2007.h5
      md5: 74333dd27b95c4e86c708522423e58fd
      size: 89884332
    - path: data/siip_meta.csv
      md5: bd853fa07fd32faa6556b19b3d1adec2
      size: 116
    - path: data/wtk_coe_2017_cem_v3_wind_conus_multiyear_colorado.csv
      md5: 576de6bce7aa966fe4c70136ccb969a2
      size: 3704336
    - path: siip_simple_plant_builder.py
      md5: 423cbecea204a3b03ba0f74c9bfb47e1
      size: 979
    outs:
    - path: data/siip_example_simple_plant_builder.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: data/siip_example_simple_plant_builder_lookahead.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
  Convert reVX output to timeseries pointer json:
    cmd: python test_no_lookahead.py
    deps:
    - path: ../rev_powersystems/revx_output_siip.py
      md5: fa1fa1dcd64b1a04b261e74f03cb13b1
      size: 9409
    - path: data/siip_example_simple_plant_builder.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: test_no_lookahead.py
      md5: ad7df663d82ff0db6e6d917f2ce89029
      size: 427
    outs:
    - path: data/siip_timeseries.csv
      md5: 4675c319a3f31d49bf9b549c32d81926
      size: 418501
    - path: data/siip_timeseries_metadata.json
      md5: 08eaca967ac14bfdacd7dee02ebf9800
      size: 558
  Create powerSystems system:
    cmd: julia --project create_basic_sys.jl
    deps:
    - path: create_basic_sys.jl
      md5: f93e607421060bf1a465aa3213330030
      size: 386
    - path: data/siip_timeseries.csv
      md5: 4675c319a3f31d49bf9b549c32d81926
      size: 418501
    - path: data/siip_timeseries_metadata.json
      md5: 7f86fba2d2ee4ccb6c55a593d1d8c857
      size: 558
    outs:
    - path: data/sys.json
      md5: a18845a18f700f0d2782a3ead2c53b82
      size: 8173
    - path: data/sys_time_series_storage.h5
      md5: 9f0e6d0ebed88165786ad1f41c501602
      size: 191072
    - path: data/sys_validation_descriptors.json
      md5: d3068e5c3653d4fb15b52eb4771c46e4
      size: 225179
  Create powerSystems system without lookahead:
    cmd: julia --project create_basic_sys.jl
    deps:
    - path: create_basic_sys.jl
      md5: 20c76cbe9cbfe74ad64dc2fcf94a3c61
      size: 589
    - path: data/siip_timeseries.csv
      md5: 4675c319a3f31d49bf9b549c32d81926
      size: 418501
    - path: data/siip_timeseries_metadata.json
      md5: 08eaca967ac14bfdacd7dee02ebf9800
      size: 558
    outs:
    - path: basic_system/plant1_max_active_power.png
      md5: 2cdb694db7de553fc565266833af0f90
      size: 43635
    - path: basic_system/sys.json
      md5: 9051d7fdada137dcb49b1f3451227291
      size: 11440
    - path: basic_system/sys_time_series_storage.h5
      md5: ac91e8b4732f101b48e0c2a63983eda6
      size: 191072
    - path: basic_system/sys_validation_descriptors.json
      md5: 407a17331fd34d53f3e08469dfdede42
      size: 225883
  Convert lookahead reVX output to timeseries pointers json:
    cmd: python test_lookahead.py
    deps:
    - path: ../rev_powersystems/revx_output_siip.py
      md5: fa1fa1dcd64b1a04b261e74f03cb13b1
      size: 9409
    - path: data/siip_example_simple_plant_builder.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: data/siip_example_simple_plant_builder_lookahead.h5
      md5: 76752691438562dc9ab0b76c46d0ed3d
      size: 344612
    - path: test_lookahead.py
      md5: 18e502efed7b95470273d895de4ab4ae
      size: 576
    outs:
    - path: data/lookahead_timeseries/
      md5: 3a69c50a4b98578549835bb3a1cc7bcb.dir
      size: 1012181
      nfiles: 3
    - path: data/siip_lookahead_metadata.json
      md5: 284c01d38ab39cb45a8f1c5b16dba0ff
      size: 822
  Create powerSystems system with lookahead:
    cmd: julia --project create_lookahead_sys.jl
    deps:
    - path: create_lookahead_sys.jl
      md5: 7008fb8cbe0c561d6f945cb1a71dd189
      size: 662
    - path: data/lookahead_timeseries/
      md5: 3a69c50a4b98578549835bb3a1cc7bcb.dir
      size: 1012181
      nfiles: 3
    - path: data/siip_lookahead_metadata.json
      md5: 284c01d38ab39cb45a8f1c5b16dba0ff
      size: 822
    outs:
    - path: lookahead_system/plant1_max_active_power.png
      md5: 51bf07db9996b210e285eb28f6c3a3b3
      size: 12334
    - path: lookahead_system/sys.json
      md5: fb1e074bb21624a21df4af52141d44ad
      size: 11910
    - path: lookahead_system/sys_time_series_storage.h5
      md5: 65826a7d14bad4f05816198b3c8abdd9
      size: 352159
    - path: lookahead_system/sys_validation_descriptors.json
      md5: 407a17331fd34d53f3e08469dfdede42
      size: 225883
